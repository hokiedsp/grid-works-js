!function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,o){"use strict";o.r(e);o(1);function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var a=function(){function t(e){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._colLineFixed=[],this._rowLineFixed=[],this._colMinWidths=[],this._colMaxWidths=[],this._rowMinHeights=[],this._rowMaxHeights=[],this._eGrid=e,this._colLineNames=[],this._colWidths=[],this._colLinePositions=[],this._rowLineNames=[],this._rowHeights=[],this._rowLinePositions=[],this._gridCells=[],this._state=0,this._currentCell,this._activeColLine=-1,this._activeRowLine=-1,this._offsetX0,this._offsetY0,["grid","inline-grid"].every(function(t){return t!==window.getComputedStyle(i._eGrid).display}))throw"Container is not a grid";this._analyze(),this._configure(),this._mouseover=this.onMouseOverBorder.bind(this),this._mouseout=this.onMouseOutBorder.bind(this),this._mousedown=this.onMouseDownBorder.bind(this),this._onmousemove=this.onMouseMove.bind(this),this._onmouseup=this.onMouseUp.bind(this),this.enable()}return s(t,[{key:"enabled",get:function(){return this._enabled},set:function(t){t?this.enable():this.disable()}},{key:"colLineFixed",get:function(){return this._colLineFixed},set:function(e){e=n(e).map(function(t){return Boolean(t)}),this._colLineFixed=t._pad(e,this._colLinePositions.length,!1)}},{key:"rowLineFixed",get:function(){return this._rowLineFixed},set:function(e){e=n(e).map(function(t){return Boolean(t)}),this._rowLineFixed=t._pad(e,this._rowLinePositions.length,!1)}},{key:"colMinWidths",get:function(){return this._colMinWidths},set:function(e){e=n(e).map(function(t){return isFinite(t)&&t>0?t:1}),this._colMinWidths=t._pad(e,this._colWidths.length,e[e.length-1])}},{key:"colMaxWidths",get:function(){return this._colMaxWidths},set:function(e){e=n(e).map(function(t){return t>0?t:1/0}),this._colMaxWidths=t._pad(e,this._colWidths.length,e[e.length-1])}},{key:"rowMinHeights",get:function(){return this._rowMinHeights},set:function(e){e=n(e).map(function(t){return isFinite(t)&&t>0?t:1}),this._rowMinHeights=t._pad(e,this._rowHeights.length,e[e.length-1])}},{key:"rowMaxHeights",get:function(){return this._rowMaxHeights},set:function(e){e=n(e).map(function(t){return t>0?t:1/0}),this._rowMaxHeights=t._pad(e,this._rowHeights.length,e[e.length-1])}}],[{key:"_pad",value:function(t,e){for(var i=t[t.length-1];t.length<e;)t.push(i);return t}}]),s(t,[{key:"enable",value:function(){var t=this;this._enabled||(this._enabled=!0,this._gridCells.forEach(function(e){e.eBorder.addEventListener("mouseover",t._mouseover),e.eBorder.addEventListener("mouseout",t._mouseout),e.eBorder.addEventListener("mousedown",t._mousedown)}))}},{key:"disable",value:function(){var t=this;this._enabled&&(this._enabled=!1,this._gridCells.forEach(function(e){e.eBorder.removeEventListener("mouseover",t._mouseover),e.eBorder.removeEventListener("mouseout",t._mouseout),e.eBorder.removeEventListener("mousedown",t._mousedown)}))}},{key:"_analyze",value:function(){var t=this,e=function(t){return Number(t.match(/\d+(?=px)/))},o=function(t,o){var n="["!=t.template[0],r=[],s=n?[[]]:[];t.template.match(/(\[[^\]]+\])|([\d\.]+)/g).forEach(function(t){"["==t[0]?(s.push(t),n=!1):(r.push(Number(t)),n&&s.push(""),n=!0)});var a=r.reduce(function(t,e,i){return t.push(t[i]+e),t},[o+e(t.border)+e(t.padding)]);if(t.gap&&"normal"!=t.gap){var h=e(t.gap);a=a.map(function(t){return t+i*h})}return{names:s,sizes:r,edges:a}},r=function(t){return{top:t.top,left:t.left}}(this._eGrid.getBoundingClientRect()),s=o(function(t){return{template:t.gridTemplateColumns,gap:t.columnGap,border:t.borderLeftWidth,padding:t.paddingLeft}}(window.getComputedStyle(this._eGrid)),r.left);this._colLineNames=s.names,this._colWidths=s.sizes,this._colLinePositions=s.edges;var a=o(function(t){return{template:t.gridTemplateRows,gap:t.rowGap,border:t.borderTopWidth,padding:t.paddingTop}}(window.getComputedStyle(this._eGrid)),r.top);this._rowLineNames=a.names,this._rowHeights=a.sizes,this._rowLinePositions=a.edges,this._gridCells=n(this._eGrid.children).reduce(function(i,o,n){var r=window.getComputedStyle(o),s=o.getBoundingClientRect(),a=function(t,e){return e.map(function(e){return Math.abs(e-t)}).reduce(function(t,e,i,o){return e<o[t]?i:t},0)};return i.push({eBorder:o,eCellCSS:r,left:a(s.left-e(r.marginLeft),t._colLinePositions),right:a(s.left+s.width+e(r.marginRight),t._colLinePositions),top:a(s.top-e(r.marginTop),t._rowLinePositions),bottom:a(s.top+s.height+e(r.marginBottom),t._rowLinePositions)}),i},[])}},{key:"_configure",value:function(){this._eGrid.classList.add("grid-works","wrapper"),this._gridCells.forEach(function(t){var e,i=window.getComputedStyle(t.eBorder),o=t.eBorder.innerHTML,r=document.createElement("div");r.className="grid-works content",(e=r.classList).add.apply(e,n(t.eBorder.classList)),r.innerHTML=o,r.style="height: 100%; width: 100%; margin: 0; border: none; padding: 0",r.style.paddingLeft=i.paddingLeft,r.style.paddingTop=i.paddingTop,r.style.paddingRight=i.paddingRight,r.style.paddingBottom=i.paddingBottom,t.eContent=r,t.eBorder.classList.add("grid-works","border"),t.eBorder.innerHTML="",t.eBorder.appendChild(r),t.eBorder.style.padding="0",t.eContent.addEventListener("mouseover",function(t){t.stopPropagation()}),t.eContent.addEventListener("mouseout",function(t){t.stopPropagation()})}),this.colLineFixed=this._colLineFixed,this.rowLineFixed=this._rowLineFixed,this.colMinWidths=this._colMinWidths,this.colMaxWidths=this._colMaxWidths,this.rowMinHeights=this._rowMinHeights,this.rowMaxHeights=this._rowMaxHeights}},{key:"_is_adjustable",value:function(t,e,i){return!(i[t]||t==e)}},{key:"_on_border",value:function(t){var e={left:!1,right:!1,top:!1,bottom:!1};if(this._currentCell=this._gridCells.find(function(e){return t.target==e.eBorder}),!this._currentCell)return e;var i=t.clientX-t.target.offsetLeft,o=t.target.offsetLeft+t.target.offsetWidth-t.clientX-1,n=t.clientY-t.target.offsetTop,r=t.target.offsetTop+t.target.offsetHeight-t.clientY-1,s=getComputedStyle(t.target).borderLeftWidth.slice(0,-2),a=getComputedStyle(t.target).borderRightWidth.slice(0,-2),h=getComputedStyle(t.target).borderTopWidth.slice(0,-2),u=getComputedStyle(t.target).borderBottomWidth.slice(0,-2);return i<=s?e.left=this._is_adjustable(this._currentCell.left,0,this._colLineFixed):o<=a&&(e.right=this._is_adjustable(this._currentCell.right,this._colLinePositions.length-1,this._colLineFixed)),n<=h?e.top=this._is_adjustable(this._currentCell.top,0,this._rowLineFixed):r<=u&&(e.bottom=this._is_adjustable(this._currentCell.bottom,this._rowLinePositions.length-1,this._rowLineFixed)),e}},{key:"onMouseOverBorder",value:function(t){if(!(this._state>0)){var e=this._on_border(t);(e.left||e.right)&&t.target.classList.add("col"),(e.top||e.bottom)&&t.target.classList.add("row")}}},{key:"onMouseMoveBorder",value:function(t){if(!(this._state>0)){var e=this._on_border(t);e.left||e.right?t.target.classList.add("col"):t.target.classList.remove("col"),e.top||e.bottom?t.target.classList.add("row"):t.target.classList.remove("row")}}},{key:"onMouseOutBorder",value:function(t){this._state>0||this._state||t.target.classList.remove("col","row")}},{key:"onMouseDownBorder",value:function(t){var e=this._on_border(t);if(e.left?this._activeColLine=this._currentCell.left:e.right&&(this._activeColLine=this._currentCell.right),e.top?this._activeRowLine=this._currentCell.top:e.bottom&&(this._activeRowLine=this._currentCell.bottom),this._activeColLine<0&&this._activeRowLine<0)return 0;this._state=1,this._activeColLine>=0&&(this._offsetX0=this._colLinePositions[this._activeColLine]-t.pageX),this._activeRowLine>=0&&(this._offsetY0=this._rowLinePositions[this._activeRowLine]-t.pageY),window.addEventListener("mousemove",this._onmousemove),window.addEventListener("mouseup",this._onmouseup)}},{key:"onMouseUp",value:function(t){window.removeEventListener("mousemove",this._onmousemove),window.removeEventListener("mouseup",this._onmouseup),this._state=0,this._activeColLine=-1,this._activeRowLine=-1}},{key:"_update_template",value:function(t,e,i,o,n,r,s,a){var h=e-r[t],u=n[t-1]+h,d=n[t]-h;return u<s[t-1]?(d=u+d-s[t-1],u=s[t-1]):d<s[t]?(u=d+u-s[t],d=s[t]):u>a[t-1]?(d=u+d-a[t-1],u=a[t-1]):d>a[t]&&(u=d+u-a[t],d=a[t]),r[t]=r[t-1]+u,n[t-1]=u,n[t]=d,this._eGrid.style[i]=n.reduce(function(t,e,i){return t+=e+"px"+o[i+1]},o[0]),{sizes:n,edges:r}}},{key:"onMouseMove",value:function(t){if(t.preventDefault(),this._activeColLine>=0){var e=this._update_template(this._activeColLine,this._offsetX0+t.pageX,"gridTemplateColumns",this._colLineNames,this._colWidths,this._colLinePositions,this._colMinWidths,this._colMaxWidths);this._colWidths=e.sizes,this._colLinePositions=e.edges}if(this._activeRowLine>=0){var i=this._update_template(this._activeRowLine,this._offsetY0+t.pageY,"gridTemplateRows",this._rowLineNames,this._rowHeights,this._rowLinePositions,this._rowMinHeights,this._rowMaxHeights);this._rowHeights=i.sizes,this._rowLinePositions=i.edges}}}]),t}();Object.defineProperty(HTMLElement.prototype,"gridWorks",{get:function(){var t=this;return function(){try{for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return Object.defineProperty(t,"gridWorks",{value:new a(t,i)}),t.gridWorks}catch(t){return null}}},configurable:!0,writeable:!1})},function(t,e,i){}]);